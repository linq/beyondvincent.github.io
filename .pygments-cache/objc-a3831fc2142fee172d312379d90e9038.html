<div class="highlight"><pre><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">;</span>
<span class="n">NSURL</span> <span class="o">*</span> <span class="n">backgroundMusicURL</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSBundle</span> <span class="n">mainBundle</span><span class="p">]</span> <span class="nl">URLForResource:</span><span class="s">@&quot;background-music-aac&quot;</span> <span class="nl">withExtension:</span><span class="s">@&quot;caf&quot;</span><span class="p">];</span>
<span class="n">self</span><span class="p">.</span><span class="n">backgroundMusicPlayer</span> <span class="o">=</span> <span class="p">[[</span><span class="n">AVAudioPlayer</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithContentsOfURL:</span><span class="n">backgroundMusicURL</span> <span class="nl">error:</span><span class="o">&amp;</span><span class="n">error</span><span class="p">];</span>
<span class="n">self</span><span class="p">.</span><span class="n">backgroundMusicPlayer</span><span class="p">.</span><span class="n">numberOfLoops</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">backgroundMusicPlayer</span> <span class="n">prepareToPlay</span><span class="p">];</span>
<span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">backgroundMusicPlayer</span> <span class="n">play</span><span class="p">];</span>
</pre></div>