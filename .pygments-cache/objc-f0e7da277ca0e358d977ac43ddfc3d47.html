<div class="highlight"><pre><span class="c1">//Define the colour steps</span>
<span class="n">CGFloat</span> <span class="n">components</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
<span class="err">    </span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span><span class="err">    </span> <span class="c1">// Start color - Blue</span>
<span class="err">    </span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span> <span class="p">};</span><span class="err">  </span> <span class="c1">// End color - Violet</span>
<span class="err"> </span>
<span class="n">CGColorSpaceRef</span> <span class="n">baseSpace</span> <span class="o">=</span> <span class="n">CGColorSpaceCreateDeviceRGB</span><span class="p">();</span>
<span class="n">CGGradientRef</span> <span class="n">gradient</span> <span class="o">=</span> <span class="n">CGGradientCreateWithColorComponents</span><span class="p">(</span><span class="n">baseSpace</span><span class="p">,</span> <span class="n">components</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="err"> </span>
<span class="c1">//Define the gradient direction </span>
<span class="n">CGPoint</span> <span class="n">startPoint</span> <span class="o">=</span> <span class="n">CGPointMake</span><span class="p">(</span><span class="n">CGRectGetMidX</span><span class="p">(</span><span class="n">rect</span><span class="p">),</span> <span class="n">CGRectGetMinY</span><span class="p">(</span><span class="n">rect</span><span class="p">));</span>
<span class="n">CGPoint</span> <span class="n">endPoint</span> <span class="o">=</span> <span class="n">CGPointMake</span><span class="p">(</span><span class="n">CGRectGetMidX</span><span class="p">(</span><span class="n">rect</span><span class="p">),</span> <span class="n">CGRectGetMaxY</span><span class="p">(</span><span class="n">rect</span><span class="p">));</span>
<span class="err"> </span>
<span class="err">    </span><span class="c1">//Choose a colour space</span>
<span class="n">CGColorSpaceRelease</span><span class="p">(</span><span class="n">baseSpace</span><span class="p">),</span> <span class="n">baseSpace</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span><span class="err">   </span> 
<span class="err"> </span>
<span class="c1">//Create and Draw the gradient</span>
<span class="n">CGContextDrawLinearGradient</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">gradient</span><span class="p">,</span> <span class="n">startPoint</span><span class="p">,</span> <span class="n">endPoint</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="n">CGGradientRelease</span><span class="p">(</span><span class="n">gradient</span><span class="p">),</span> <span class="n">gradient</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
</pre></div>